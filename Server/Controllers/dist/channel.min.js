"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getallchanels=exports.updatechaneldata=void 0;var _mongoose=_interopRequireDefault(require("mongoose")),_Auth=_interopRequireDefault(require("../Models/Auth.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var updatechaneldata=function(t,a){var n,r,s,u,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params.id,r=t.body,s=r.name,u=r.desc,_mongoose.default.Types.ObjectId.isValid(n)){e.next=4;break}return e.abrupt("return",a.status(404).send("Channel unavailable.."));case 4:return e.prev=4,e.next=7,regeneratorRuntime.awrap(_Auth.default.findByIdAndUpdate(n,{$set:{name:s,desc:u}},{new:!0}));case 7:o=e.sent,a.status(200).json(o),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),a.status(405).json({message:e.t0.message}),e.abrupt("return");case 15:case"end":return e.stop()}},null,null,[[4,11]])};exports.updatechaneldata=updatechaneldata;var getallchanels=function(e,t){var a,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(_Auth.default.find());case 3:a=e.sent,n=[],a.forEach(function(e){n.push({_id:e._id,name:e.name,email:e.email,desc:e.desc})}),t.status(200).json(n),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),t.status(405).json({message:e.t0.message}),e.abrupt("return");case 13:case"end":return e.stop()}},null,null,[[0,9]])};exports.getallchanels=getallchanels;
//# sourceMappingURL=channel.min.js.map
