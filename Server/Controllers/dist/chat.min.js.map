{"version":3,"sources":["chat.js"],"names":["_chat","_interopRequireDefault","require","getMessagesForRoom","req","res","roomId","messages","regeneratorRuntime","async","_context","prev","next","params","console","log","concat","awrap","Chat","find","sort","createdAt","sent","length","status","json","t0","message","stop"],"mappings":"sGACA,IAAAA,MAAAC,uBAAAC,QAAA,8FAGO,IAAMC,mBAAqB,SAAOC,EAAKC,GAAZ,IAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OACtBN,EAAWF,EAAIS,OAAfP,OACRQ,QAAQC,IAAR,+BAAAC,OAA2CV,IAFbI,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAS,MAKHC,MAAAA,QAAKC,KAAK,CAAEb,OAAAA,IAAUc,KAAK,CAAEC,UAAW,KALrC,KAAA,EAKpBd,EALoBG,EAAAY,KAM1BR,QAAQC,IAAR,SAAAC,OAAqBT,EAASgB,OAA9B,cAVRlB,EAAAmB,OAAA,KAAAC,KAAAlB,GAIkCG,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAgB,GAAAhB,EAAA,MAAA,GAArBP,QAAAA,MAAAA,4BAAAA,OAAAA,EAAAA,GAAqBwB,UAAAtB,EAAAmB,OAAA,KAAAC,KAAA,CAAAE,QAAAjB,EAAAgB,GAAAC,UAAA,KAAA,GAAA,IAAA,MAAA,OAAAjB,EAAAkB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"chat.min.js","sourcesContent":["// Controllers/chat.js\r\nimport Chat from \"../Models/chat.js\";\r\n\r\n// Fetch all chat messages for a specific room\r\nexport const getMessagesForRoom = async (req, res) => {\r\n    const { roomId } = req.params;\r\n    console.log(`Fetching messages for room: ${roomId}`);  // Debugging statement\r\n\r\n    try {\r\n        const messages = await Chat.find({ roomId }).sort({ createdAt: 1 }); // Sort by creation date\r\n        console.log(`Found ${messages.length} messages`);  // Debugging statement\r\n        res.status(200).json(messages);\r\n    } catch (error) {\r\n        console.error(`Error fetching messages: ${error.message}`);  // Debugging statement\r\n        res.status(500).json({ message: error.message });\r\n    }\r\n};\r\n"]}