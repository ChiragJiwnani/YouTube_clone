{"version":3,"sources":["filehelper.js"],"names":["storage","multer","diskStorage","destination","req","res","cb","filename","file","Date","toISOString","replace","originalname","filefilter","mimetype","upload","fileFilter"],"mappings":"AAAA;;;;;;;AACA;;;;AACA,IAAMA,OAAO,GAAGC,mBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAE,qBAACC,GAAD,EAAMC,GAAN,EAAWC,EAAX,EAAkB;AAC3BA,IAAAA,EAAE,CAAC,IAAD,EAAO,SAAP,CAAF;AACH,GAH8B;AAI/BC,EAAAA,QAAQ,EAAE,kBAACH,GAAD,EAAMI,IAAN,EAAYF,EAAZ,EAAmB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EACE,IAAIG,IAAJ,GAAWC,WAAX,GAAyBC,OAAzB,CAAiC,IAAjC,EAAuC,GAAvC,IAA8C,GAA9C,GAAoDH,IAAI,CAACI,YAD3D,CAAF;AAGH;AAR8B,CAAnB,CAAhB;;AAUA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACT,GAAD,EAAKI,IAAL,EAAWF,EAAX,EAAkB;AACjC,MAAIE,IAAI,CAACM,QAAL,KAAkB,WAAtB,EAAmC;AAC/BR,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACH,GAFD,MAEO;AACHA,IAAAA,EAAE,CAAC,IAAD,EAAO,KAAP,CAAF;AACH;AACJ,CAND;;AAOA,IAAMS,MAAM,GAAG,wBAAO;AAAEf,EAAAA,OAAO,EAAEA,OAAX;AAAoBgB,EAAAA,UAAU,EAAEH;AAAhC,CAAP,CAAf;eACeE,M","sourcesContent":["\"use strict\";\nimport multer from \"multer\";\nconst storage = multer.diskStorage({\n    destination: (req, res, cb) => {\n        cb(null, \"uploads\");\n    },\n    filename: (req, file, cb) => {\n        cb(null,\n            new Date().toISOString().replace(/:/g, \"-\") + \"-\" + file.originalname\n        );\n    },\n});\nconst filefilter = (req,file, cb) => {\n    if (file.mimetype === \"video/mp4\") {\n        cb(null, true)\n    } else {\n        cb(null, false)\n    }\n}\nconst upload = multer({ storage: storage, fileFilter: filefilter });\nexport default upload"],"file":"filehelper.dev.js"}